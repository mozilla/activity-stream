{
  "name": "activity-streams",
  "description": "A rich visual history feed and a reimagined home page make it easier than ever to find exactly what you're looking for in Firefox.\n\nLearn more about this Test Pilot experiment at https://testpilot.firefox.com/.",
  "version": "1.14.2",
  "author": "Mozilla (https://mozilla.org/)",
  "bugs": {
    "url": "https://github.com/mozilla/activity-stream/issues"
  },
  "dependencies": {
    "classnames": "2.2.5",
    "fancy-dedupe": "0.1.0",
    "lodash.debounce": "4.0.8",
    "moment": "2.15.2",
    "object-sizeof": "1.1.1",
    "page-metadata-parser": "0.6.0",
    "react": "15.3.2",
    "react-dom": "15.3.2",
    "react-json-inspector": "7.0.0",
    "react-redux": "4.4.5",
    "redux": "3.6.0",
    "redux-logger": "2.7.4",
    "redux-thunk": "2.1.0",
    "redux-watch": "1.1.1",
    "reselect": "2.5.4",
    "tippy-top-sites": "1.3.1"
  },
  "devDependencies": {
    "@kadira/storybook": "2.29.5",
    "babel": "6.5.2",
    "babel-core": "6.18.2",
    "babel-loader": "6.2.7",
    "babel-plugin-jsm-to-commonjs": "0.2.0",
    "babel-plugin-transform-async-to-module-method": "^6.24.1",
    "babel-plugin-transform-es2015-destructuring": "6.18.0",
    "babel-plugin-transform-es2015-modules-commonjs": "^6.24.1",
    "babel-plugin-transform-es2015-parameters": "6.18.0",
    "babel-plugin-transform-strict-mode": "6.18.0",
    "babel-preset-react": "6.16.0",
    "chai": "3.5.0",
    "co-task": "1.0.0",
    "conventional-changelog-cli": "1.2.0",
    "cpx": "1.5.0",
    "decompress-cli": "2.0.0",
    "enzyme": "2.7.0",
    "eslint": "3.9.1",
    "eslint-plugin-json": "1.2.0",
    "eslint-plugin-mozilla": "0.2.40",
    "eslint-plugin-promise": "3.3.1",
    "eslint-plugin-react": "6.6.0",
    "eslint-watch": "2.1.14",
    "eventemitter2": "2.1.3",
    "faker": "3.1.0",
    "github": "8.1.1",
    "husky": "0.11.9",
    "istanbul-instrumenter-loader": "0.2.0",
    "joi-browser": "10.0.6",
    "jpm": "1.2.2",
    "karma": "1.3.0",
    "karma-chai": "0.1.0",
    "karma-chrome-launcher": "2.0.0",
    "karma-coverage": "1.1.1",
    "karma-coveralls": "1.1.2",
    "karma-firefox-launcher": "1.0.0",
    "karma-html2js-preprocessor": "1.1.0",
    "karma-mocha": "1.2.0",
    "karma-mocha-reporter": "2.2.0",
    "karma-requirejs": "1.1.0",
    "karma-sinon": "1.0.5",
    "karma-sourcemap-loader": "0.3.7",
    "karma-webpack": "2.0.2",
    "live-server": "1.1.0",
    "loader-utils": "0.2.16",
    "minimist": "1.2.0",
    "mkdirp": "0.5.1",
    "mocha": "3.1.2",
    "mock-raf": "1.0.0",
    "node-sass": "3.11.2",
    "npm-run-all": "3.1.1",
    "pontoon-to-json": "2.0.0",
    "raw-loader": "0.5.1",
    "react-addons-test-utils": "15.3.2",
    "react-intl": "2.2.3",
    "requirejs": "2.3.2",
    "rimraf": "2.5.4",
    "sass-lint": "1.10.1",
    "shelljs": "0.7.6",
    "simple-git": "1.65.0",
    "sinon": "2.3.4",
    "style-loader": "0.13.1",
    "svgo": "0.7.1",
    "webpack": "2.2.1",
    "webpack-bundle-size-analyzer": "2.2.0",
    "webpack-env-loader-plugin": "1.0.0",
    "webpack-notifier": "1.4.1",
    "yamscripts": "0.0.3"
  },
  "engines": {
    "firefox": ">=45.0 <=*"
  },
  "homepage": "https://github.com/mozilla/activity-stream",
  "icon": "resource://activity-streams/data/content/img/ActivityStream-32.svg",
  "keywords": [
    "mozilla",
    "firefox",
    "activity-stream"
  ],
  "license": "MPL-2.0",
  "main": "addon/main.js",
  "preferences": [
    {
      "name": "homepageOverridden",
      "title": "Has the user overridden their home page",
      "type": "bool",
      "value": false
    },
    {
      "name": "experimentsOverridden",
      "title": "Has the user overridden their experiment assignment",
      "type": "bool",
      "value": false
    },
    {
      "name": "performance.log",
      "title": "Enable Performance Logging",
      "type": "bool",
      "value": false
    },
    {
      "name": "previews.enabled",
      "title": "Enable rich link previews",
      "type": "bool",
      "hidden": true,
      "value": true
    },
    {
      "name": "telemetry",
      "title": "Enable system error and usage data collection",
      "type": "bool",
      "value": true
    },
    {
      "name": "query.blockedURLs",
      "title": "Blocked URLs",
      "type": "string",
      "value": "[]",
      "hidden": true
    },
    {
      "name": "telemetry.ping.endpoint",
      "title": "Telemetry server endpoint",
      "type": "string",
      "value": "https://tiles.services.mozilla.com/v3/links/activity-stream",
      "hidden": true
    },
    {
      "name": "experiments.endpoint",
      "title": "Experiments Definitions Endpoint",
      "type": "string",
      "value": "https://experimenter-cdn.services.mozilla.com/api/v1/activity-stream/experiments.json",
      "hidden": true
    },
    {
      "name": "weightedHighlightsCoefficients",
      "title": "recommender weights",
      "description": "weightedHighlightsCoefficients",
      "type": "string",
      "value": "[-0.1, -0.1, -0.1, 0.4, 0.2]",
      "hidden": true
    },
    {
      "name": "activateExperiments",
      "title": "Activate Experiments",
      "type": "bool",
      "value": true,
      "hidden": true
    },
    {
      "name": "showSearch",
      "title": "Show the Search bar on the New Tab page",
      "type": "bool",
      "value": true
    },
    {
      "name": "showTopSites",
      "title": "Show the Top Sites section on the New Tab page",
      "type": "bool",
      "value": true
    },
    {
      "name": "showPocket",
      "title": "Show the Trending Stories section by Pocket on the New Tab page",
      "type": "bool",
      "value": true
    },
    {
      "name": "showBookmarks",
      "title": "Show the Bookmarks section on the New Tab page",
      "type": "bool",
      "value": true
    },
    {
      "name": "showMoreTopSites",
      "title": "Show an extra row of Top Sites on the New Tab page",
      "type": "bool",
      "value": false
    },
    {
      "name": "showVisitAgain",
      "title": "Show the Visit Again section on the New Tab page",
      "type": "bool",
      "value": true
    },
    {
      "name": "collapseTopSites",
      "title": "Collapse the Top Sites on the New Tab page leaving only section title visible",
      "type": "bool",
      "value": false
    },
    {
      "name": "collapsePocket",
      "title": "Collapse the Pocket on the New Tab page leaving only section title visible",
      "type": "bool",
      "value": false
    },
    {
      "name": "collapseBookmarks",
      "title": "Collapse the Bookmarks section on the New Tab page leaving only section title visible",
      "type": "bool",
      "value": false
    },
    {
      "name": "collapseVisitAgain",
      "title": "Collapse the Visit Again section on the New Tab page leaving only section title visible",
      "type": "bool",
      "value": false
    },
    {
      "name": "defaultBookmarksAge",
      "title": "Timestamp of oldest bookmark used to filter out default bookmarks. String type used in order to support large timestamp value.",
      "type": "string",
      "value": "0"
    }
  ],
  "repository": "mozilla/activity-stream",
  "scripts": {
    "once": "npm run bundle && npm run firefox",
    "clean": "rimraf data/content/* && rimraf data/locales/* && mkdirp data/content && rimraf dist/*",
    "changelog": "conventional-changelog -i CHANGELOG.md -s",
    "copyTestImages": "cpx \"node_modules/tippy-top-sites/images/**/*\" data/content/favicons/images",
    "preparePocketJson": "node ./bin/pocket-config.js",
    "bundle": "npm-run-all bundle:*",
    "prebundle": "npm run clean && npm run copyTestImages && npm run preparePocketJson",
    "bundle:static": "cpx \"content-src/static/**/*\" data/content",
    "bundle:locales": "pontoon-to-json --src locales --dest data/locales",
    "bundle:svgo": "svgo -q -f data/content/img/",
    "bundle:webpack": "NODE_ENV=production webpack",
    "bundle:webpackAddon": "webpack --config webpack.addon.config.js",
    "bundle:css": "node-sass content-src/main.scss -o data/content",
    "bundle:html": "node ./bin/generate-html.js > data/content/activity-streams.html",
    "postbundle": "du -hs ./data/content/*",
    "bundlestats": "NODE_ENV=production webpack --json | webpack-bundle-size-analyzer",
    "mochitest": "(cd ../mozilla-central && ./mach mochitest browser/extensions/activity-stream/test/functional/mochitest )",
    "mochitest-debug": "(cd ../mozilla-central && ./mach mochitest --jsdebugger browser/extensions/activity-stream/test/functional/mochitest )",
    "cleanmc": "rimraf ../mozilla-central/browser/extensions/activity-stream",
    "tippymc": "npm-run-all tippymc:*",
    "pretippymc": "rimraf system-addon/data/content/tippytop",
    "tippymc:manifest": "cpx \"node_modules/tippy-top-sites/top_sites.json\" system-addon/data/content/tippytop",
    "tippymc:images": "cpx \"node_modules/tippy-top-sites/images/**/*\" system-addon/data/content/tippytop/images",
    "buildmc": "npm-run-all buildmc:*",
    "prebuildmc": "npm run cleanmc && npm run tippymc",
    "buildmc:webpack": "webpack --config webpack.system-addon.config.js",
    "buildmc:css": "node-sass system-addon/content-src/activity-stream.scss -o system-addon/data/content",
    "buildmc:locales": "pontoon-to-json --src locales --dest system-addon/data",
    "buildmc:copy": "cpx \"system-addon/**/{,.}*\" ../mozilla-central/browser/extensions/activity-stream",
    "buildmc:rmcontentsrc": "rimraf \"../mozilla-central/browser/extensions/activity-stream/{,test/unit/}content-src\"",
    "packagemc": "npm-run-all packagemc:*",
    "prepackagemc": "npm run clean",
    "packagemc:build": "npm run buildmc:webpack && npm run buildmc:css && npm run buildmc:locales",
    "packagemc:copy": "cpx \"system-addon/**\" dist/system-addon",
    "packagemc:process": "node ./bin/process-system-addon-for-package.js dist/system-addon",
    "packagemc:xpi": "(cd dist/system-addon && zip -r ../activity-stream-system-addon.xpi * )",
    "startmc": "npm-run-all --parallel startmc:*",
    "prestartmc": "npm run prebuildmc",
    "startmc:copy": "npm run buildmc:copy -- -w",
    "startmc:webpack": "npm run buildmc:webpack -- -w",
    "startmc:css": "npm run buildmc:css && npm run buildmc:css -- -w",
    "importmc": "cpx \"../mozilla-central/browser/extensions/activity-stream/**/*\" system-addon/",
    "testmc": "npm-run-all testmc:*",
    "testmc:build": "npm run buildmc:webpack && npm run buildmc:locales",
    "testmc:unit": "karma start karma.mc.config.js || (cat logs/coverage/system-addon/text.txt && exit 2)",
    "posttestmc": "cat logs/coverage/system-addon/text-summary.txt",
    "tddmc": "karma start karma.mc.config.js --tdd",
    "debugcoverage": "open logs/coverage/system-addon/report-html/index.html",
    "start": "npm-run-all --parallel start:*",
    "prestart": "npm run clean && npm run copyTestImages && npm run preparePocketJson",
    "start:static": "npm run bundle:static -- -w",
    "start:locales": "npm run bundle:locales -- -w",
    "start:webpack": "webpack -w",
    "start:webpackAddon": "npm run bundle:webpackAddon -- -w",
    "start:css": "npm run bundle:css && npm run bundle:css -- -w",
    "start:html": "npm run bundle:html -- --baseUrl http://localhost:1963/ --csp off",
    "start:server": "live-server data/content --port=1963 --no-browser",
    "start:eslint": "npm run lint:eslint -- -w",
    "firefox": "npm run bundle:webpackAddon && jpm run -b nightly --prefs ./dev-prefs.json",
    "lint": "npm-run-all lint:*",
    "lint:eslint": "esw --ext=.js,.jsm,.json,.jsx . .storybook",
    "lint:sasslint": "sass-lint -v -q",
    "strings-export": "node ./bin/strings-export.js ../activity-stream-l10n",
    "strings-import": "node ./bin/strings-import.js ../activity-stream-l10n",
    "test": "npm-run-all test:*",
    "pretest": "npm run bundle && npm run copyTestImages && npm run preparePocketJson",
    "test:lint": "npm run lint",
    "test:checkbinary": "echo \"JPM_FIREFOX_BINARY: ${JPM_FIREFOX_BINARY}\"",
    "test:jpm": "jpm test -b ${JPM_FIREFOX_BINARY:-\"nightly\"} --prefs ./test-prefs.json -v -f \"^(?!.*benchmark)\"",
    "test:karma": "npm run preparePocketJson && NODE_ENV=test karma start",
    "test:mc": "npm run testmc",
    "posttest": "cat logs/reports/coverage/text-summary.txt",
    "benchmark-with": "npm run bundle && JSGC_DISABLE_POISONING=1 jpm test -b ${JPM_FIREFOX_BINARY:-\"nightly\"} --prefs ./benchmark-prefs.json",
    "benchmark": "npm run benchmark-with -- -f \".*benchmark.js\"",
    "tdd": "npm run test:karma -- --no-single-run --browsers Chrome",
    "package": "npm run bundle && jpm xpi && mv activity-streams.xpi dist/activity-streams-$npm_package_version.xpi",
    "travis": "npm run test",
    "prepush": "npm run test:lint && npm run yamscripts",
    "storybook": "start-storybook -p 9001 -s ./data/content",
    "build-storybook": "npm run bundle && STORYBOOK_STATIC=true build-storybook -s ./data/content -o ./.static-storybook",
    "help": "yamscripts help",
    "yamscripts": "yamscripts compile",
    "__": "# NOTE: THESE SCRIPTS ARE COMPILED!!! EDIT yamscripts.yml instead!!!"
  },
  "title": "Activity Stream",
  "updateLink": "https://testpilot.firefox.com/files/activitystream/latest",
  "updateURL": "https://testpilot.firefox.com/files/activitystream/updates.json",
  "permissions": {
    "multiprocess": true,
    "private-browsing": true
  }
}
